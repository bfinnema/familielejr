<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#!">Familielejr</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
            <li id="home"><a href="#">Home</a></li>
            <li id="about" ng-show="isLoggedIn"><a href="#!about">Om familielejren</a></li>
            <li id="history" ng-show="isLoggedIn" class="dropdown">
                <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Historie<span class="caret"></span></a>
                <ul class="dropdown-menu">
                    <li id="campmap"><a href="#!campmap">Kort</a></li>
                    <li id="camplist"><a href="#!camplist">Liste over lejre</a></li>
                </ul>
            </li>
            <li id="familytree" ng-show="isLoggedIn"><a href="#!familytree">Stamtræ</a></li>
            <li id="photoalbum" ng-show="isLoggedIn" class="dropdown">
                <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Fotoalbum<span class="caret"></span></a>
                <ul class="dropdown-menu">
                    <li><a href="#!photos1993">1993</a></li>
                    <li><a href="#!photos1994">1994</a></li>
                    <li><a href="#!photos1993">1995</a></li>
                    <li><a href="#!photos1993">1996</a></li>
                    <li><a href="#!photos1993">1997</a></li>
                    <li><a href="#!photos1993">1998</a></li>
                    <li><a href="#!photos1993">1999</a></li>
                    <li><a href="#!photos1994">2000</a></li>
                    <li><a href="#!photos1994">2001</a></li>
                    <li><a href="#!photos1994">2002</a></li>
                    <li><a href="#!photos1994">2003</a></li>
                    <li><a href="#!photos1994">2004</a></li>
                    <li><a href="#!photos1994">2005</a></li>
                    <li><a href="#!photos1994">2006</a></li>
                    <li><a href="#!photos1994">2007</a></li>
                    <li><a href="#!photos1994">2008</a></li>
                    <li><a href="#!photos1994">2009</a></li>
                    <li><a href="#!photos1994">2010</a></li>
                    <li><a href="#!photos1994">2011</a></li>
                    <li><a href="#!photos1994">2012</a></li>
                    <li><a href="#!photos1994">2013</a></li>
                    <li><a href="#!photos1994">2014</a></li>
                    <li><a href="#!photos1994">2015</a></li>
                    <li><a href="#!photos1994">2016</a></li>
                    <li><a href="#!photos1994">2017</a></li>
                </ul>
            </li>
            <li id="nextcamp" ng-show="isLoggedIn" class="dropdown">
                <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Næste Familielejr<span class="caret"></span></a>
                <ul class="dropdown-menu">
                    <li id="nextcampinfo"><a href="#!information">Information</a></li>
                    <li id="eventreg"><a href="#!eventregistration">Tilmelding</a></li>
                </ul>
            </li>
            <li id="register" ng-show="!isLoggedIn"><a href="#!register">Register</a></li>
            <li id="login" ng-show="!isLoggedIn"><a href="#!login">Login</a></li>
            <li id="myaccount" ng-show="isLoggedIn" class="dropdown">
                <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Min konto <span class="caret"></span></a>
                <ul class="dropdown-menu">
                    <li id="logout"><a href="#!logout">Log ud</a></li>
                    <li id="myprofile"><a href="#!profile">Min profil</a></li>
                    <li id="changepassword"><a href="#!changepassword">Ændre kodeord</a></li>
                </ul>
            </li>
            <li><a href="#!content">Contact</a></li>
        </ul>
        </div><!--/.nav-collapse -->
    </div>
</nav>

<div ng-controller = "eventregCtrl">
    <h2>Tilmelding til næste lejr</h2>
    <hr>
    <div class="row">
        <div class="form-group col-md-5">
            <p ng-show="errorHappened"> Der skete en fejl. Prøv igen.</p>
        </div>
    </div>
    <form name="eventregForm" ng-submit="addEventreg()">
        <div class="row">
            <div class="form-group col-md-4">
                <label>Navn</label>
                <input type="text" class="form-control" ng-model="regname" name="regname" placeholder="Navn" required>
                <i ng-show="eventregForm.regname.$error.required">*Skal udfyldes</i>
            </div>
            <div class="form-group col-md-4">
                <label>Barn / Voksen</label>
                <select class="form-control" ng-model="agegroup" name="agegroup" required>
                    <option ng-repeat="agegroup in agegroups" value="{{agegroup.agegroup}}">{{agegroup.agegroup}}</option>
                </select>
                <i ng-show="eventregForm.agegroup.$error.required">*Skal udfyldes</i>
            </div>
        </div>
        <div class="row">
            <div class="form-group col-md-2">
                <label>Ankomstdag</label>
                <select class="form-control" ng-model="arrivalday" name="arrivalday" required>
                    <option ng-repeat="arrivalday in arrivaldays" value="{{arrivalday.arrivalday}}">{{arrivalday.arrivalday}}</option>
                </select>
                <i ng-show="eventregForm.arrivalday.$error.required">*Skal udfyldes</i>
            </div>
            <div class="form-group col-md-2">
                <label>Ca. tid</label>
                <input type="time" class="form-control" ng-model="arrivaltime" name="arrivaltime">
            </div>
            <div class="form-group col-md-2">
                <label>Afgangsdag</label>
                <select class="form-control" ng-model="departureday" name="departureday" required>
                    <option ng-repeat="departureday in departuredays" value="{{departureday.departureday}}">{{departureday.departureday}}</option>
                </select>
                <i ng-show="eventregForm.departureday.$error.required">*Skal udfyldes</i>
            </div>
            <div class="form-group col-md-2">
                <label>Ca. tid</label>
                <input type="time" class="form-control" ng-model="departuretime" name="departuretime">
            </div>
        </div>
        <div class="row">
            <div class="col-md-3">
                <button type="submit" class="btn btn-lg btn-primary btn-block">Tilmeld</button>
            </div>
            <div class="col-md-2">
                <a class="btn btn-warning btn-lg btn-block" href="#!">Afbryd</a>
            </div>
        </div>
    </form>
</div>
<hr>
<h3 class="heading">Du har tilmeldt:</h3>
<table class="table table-striped">
    <thead>
        <tr>
            <th width="20%">Navn</th>
            <th width="15%">Voksen / Barn</th>
            <th width="15%">Ankomstdag</th>
            <th width="10%">Ankomsttidspunkt</th>
            <th width="15%">Afgangsdag</th>
            <th width="10%">Afgangstidspunkt</th>
            <th width="15%">Slet / Ændre</th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="registration in registrations">
            <td>{{ registration.name }}</td>
            <td>{{ registration.agegroup }}</td>
            <td>{{ registration.arrivalday }}</td>
            <td>{{ registration.arrivaltime }}</td>
            <td>{{ registration.departureday }}</td>
            <td>{{ registration.departuretime }}</td>
            <td>
                <a class="btn btn-primary" href="#!eventreg/edit/{{registration._id}}">
                    <i class="glyphicon glyphicon-edit"></i>
                </a>
                <a class="btn btn-primary" ng-click="removeReg(registration)">
                    <i class="glyphicon glyphicon-trash"></i>
                </a>
            </td>
        </tr>
    </tbody>
</table>
<div ng-if="registrations == false">
    <tr>
        <td></td><td>Du har ikke tilmeldt nogen endnu</td>
    </tr>
</div>

<script type="text/javascript">
    $('#nextcamp').addClass('active');
    $('#eventreg').addClass('active');
</script>