<div ng-include="'navigation.html'"></div>

<div class="row">
    <div class="blog-header col-md-6">
        <h1 class="blog-title">Stamtræ</h1>
        <p class="lead blog-description">{{ familytreeDescription }}</p>
    </div>
    <div class="col-md-4" ng-show="role == 0">
        <a class="btn btn-warning btn-block" href="#!familytreeedit/1/{{_L0_family_id}}/{{l1family._family_id}}">Ændre stamtræet</a>
    </div>
</div>

<div class="tree row">
	<ul>
		<li>
            <a href="#!familytree/0/{{ _L0_family_id }}">
                <span ng-repeat="person in l1family.persons">
                    {{person.firstname}} {{person.middlename}}<br> {{person.surname}}<br>
                    <i ng-show="person.birth || person.pass">{{ person.birth | date:'dd-MM-yyyy' : 'CET' }} {{ person.pass | date:'dd-MM-yyyy' : 'CET' }}<br></i>
                </span>
            </a>
			<ul>
				<li ng-repeat="l2family in l1family.thirdlevel">
                    <a ng-click="showLevel3(l2family._family_id)">
                        <span ng-repeat="person in l2family.persons">
                            {{person.firstname}} {{person.middlename}}<br> {{person.surname}}<br>
                            <i ng-show="person.birth || person.pass">{{ person.birth | date:'dd-MM-yyyy' : 'CET' }} {{ person.pass | date:'dd-MM-yyyy' : 'CET' }}<br></i>
                        </span>
                    </a>
					<ul>
						<li ng-show="showL3Family == l2family._family_id" ng-repeat="l3family in L3Familytree">
                            <a>
                                <span ng-repeat="person in l3family.persons">
                                    {{person.firstname}} {{person.middlename}}<br> {{person.surname}}<br>
                                    <i ng-show="person.birth || person.pass">{{ person.birth | date:'dd-MM-yyyy' : 'CET' }} {{ person.pass | date:'dd-MM-yyyy' : 'CET' }}<br></i>
                                </span>
                            </a>
							<ul>
								<li ng-repeat="l4family in l3family.secondlevel">
                                    <a>
                                        <span ng-repeat="person in l4family.persons">
                                            {{person.firstname}} {{person.middlename}}<br> {{person.surname}}<br>
                                            <i ng-show="person.birth || person.pass">{{ person.birth | date:'dd-MM-yyyy' : 'CET' }} {{ person.pass | date:'dd-MM-yyyy' : 'CET' }}<br></i>
                                        </span>
                                    </a>
                                    <ul>
                                        <li ng-repeat="l5family in l4family.thirdlevel">
                                            <a>
                                                <span ng-repeat="person in l5family.persons">
                                                    {{person.firstname}} {{person.middlename}}<br> {{person.surname}}<br>
                                                    <i ng-show="person.birth || person.pass">{{ person.birth | date:'dd-MM-yyyy' : 'CET' }} {{ person.pass | date:'dd-MM-yyyy' : 'CET' }}<br></i>
                                                </span>
                                            </a>
                                        </li>
                                    </ul>
								</li>
                            </ul>
                        </li>
					</ul>
                </li>
			</ul>
        </li>
	</ul>
</div>
